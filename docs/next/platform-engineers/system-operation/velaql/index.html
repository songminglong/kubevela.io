<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.75">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="KubeVela Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="KubeVela Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-5GLR1Y52M7"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-5GLR1Y52M7",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="KubeVela" href="/opensearch.xml"><title data-react-helmet="true">VelaQL | KubeVela</title><meta data-react-helmet="true" property="og:url" content="https://kubevela.io/docs/next/platform-engineers/system-operation/velaql"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="VelaQL | KubeVela"><meta data-react-helmet="true" name="description" content="Introduction"><meta data-react-helmet="true" property="og:description" content="Introduction"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://kubevela.io/docs/next/platform-engineers/system-operation/velaql"><link data-react-helmet="true" rel="alternate" href="https://kubevela.io/docs/next/platform-engineers/system-operation/velaql" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://kubevela.io/zh/docs/next/platform-engineers/system-operation/velaql" hreflang="zh"><link data-react-helmet="true" rel="alternate" href="https://kubevela.io/docs/next/platform-engineers/system-operation/velaql" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.1f84ae86.css">
<link rel="preload" href="/assets/js/runtime~main.08f4153c.js" as="script">
<link rel="preload" href="/assets/js/main.c8f46ad8.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="KubeVela" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logoDark.svg" alt="KubeVela" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">KubeVela</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Documentation</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/next/">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/next/platform-engineers/system-operation/velaql">Next</a></li><li><a class="dropdown__link" href="/docs/">v1.1</a></li><li><a class="dropdown__link" href="/docs/v1.0/">v1.0</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__item navbar__link"><span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" style="vertical-align:text-bottom;margin-right:5px"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>English</span></span></a><ul class="dropdown__menu"><li><a href="/docs/next/platform-engineers/system-operation/velaql" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" style="text-transform:capitalize">English</a></li><li><a href="/zh/docs/next/platform-engineers/system-operation/velaql" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">ç®€ä½“ä¸­æ–‡</a></li></ul></div><a href="https://github.com/oam-dev/kubevela" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="KubeVela" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logoDark.svg" alt="KubeVela" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">KubeVela</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a role="button" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/next/platform-engineers/system-operation/velaql">Next</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/">v1.1</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/v1.0/">v1.0</a></li></ul></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">Documentation</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li><li class="menu__list-item menu__list-item--collapsed"><a href="#" role="button" class="menu__link menu__link--sublist"><span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" style="vertical-align:text-bottom;margin-right:5px"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>Languages</span></span></a><ul class="menu__list"><li class="menu__list-item"><a href="/docs/next/platform-engineers/system-operation/velaql" target="_self" rel="noopener noreferrer" class="menu__link dropdown__link--active" style="text-transform:capitalize">English</a></li><li class="menu__list-item"><a href="/zh/docs/next/platform-engineers/system-operation/velaql" target="_self" rel="noopener noreferrer" class="menu__link" style="text-transform:capitalize">ç®€ä½“ä¸­æ–‡</a></li></ul></li><li class="menu__list-item"><a href="https://github.com/oam-dev/kubevela" target="_blank" rel="noopener noreferrer" class="menu__link header-github-link"></a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/getting-started/core-concept">Core Concept</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/getting-started/architecture">Architecture</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/quick-start">Deploy First Application</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!">Install</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/install">Installation</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!">Continuous Delivery</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/deliver-app/webservice">Deploy Docker Image</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/deliver-app/helm">Deploy Helm Chart</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/deliver-app/k8s-object">Deploy Kubernetes Raw Resource</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!">Best Practices</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/case-studies/jenkins-cicd">Jenkins CI/CD</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/case-studies/gitops">GitOps with KubeVela</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/case-studies/canary-blue-green">Progressive Rollout with Istio</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Vela CLI Manuals</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/end-user/quick-start-cli">Deploy First Application</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Deploying Components</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/end-user/components/helm">Helm</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/end-user/components/kustomize">Kustomize</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Cloud Services</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Terraform</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/end-user/components/cloud-services/terraform/alibaba-ack">Alibaba Cloud ACK</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/end-user/components/cloud-services/terraform/alibaba-eip">Alibaba Cloud EIP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/end-user/components/cloud-services/terraform/alibaba-rds">Alibaba Cloud RDS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/end-user/components/cloud-services/terraform/alibaba-oss">Alibaba Cloud OSS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/end-user/components/cloud-services/terraform/alibaba-redis">Alibaba Cloud Redis</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/end-user/components/cloud-services/terraform/azure-database-mariadb">Azure Database Mariadb</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/end-user/components/cloud-services/terraform/azure-storage-account">Azure Storage Account</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/end-user/components/cloud-services/terraform/aws-s3">AWS S3</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/end-user/components/cloud-services/provider-and-consume-cloud-services">Provision and Binding</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">CUE</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/end-user/components/cue/webservice">Web Service</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/end-user/components/cue/worker">Worker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/end-user/components/cue/task">Task</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/end-user/components/cue/raw">Raw Template</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/end-user/components/more">Needs Moreï¼Ÿ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Attaching Traits</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/end-user/traits/ingress">Ingress</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/end-user/traits/rollout">Rollout</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/end-user/traits/autoscaler">AutoScaler</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/end-user/traits/annotations-and-labels">Labels and Annotations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/end-user/traits/service-binding">Service Binding</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/end-user/traits/sidecar">Attaching Sidecar</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/end-user/traits/kustomize-patch">Kustomize Patch</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/end-user/traits/more">Needs More?</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Defining Policies</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/end-user/policies/envbinding">Multi-Environment Policy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/end-user/policies/health">Health Check Policy</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Designing Workflow</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/end-user/workflow/built-in-workflow-defs">Built-in Steps</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/end-user/workflow/webhook-notification">Webhook Notification</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/end-user/workflow/component-dependency-parameter">Dependency and Data Passing</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/case-studies/multi-cluster">Multi-Cluster App Delivery</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/end-user/version-control">Revisioning</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Administrator Manuals</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Learning OAM</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/platform-engineers/oam/oam-model">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/platform-engineers/oam/x-definition">X-Definition</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Learning CUE</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/platform-engineers/cue/basic">CUE Basic</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/platform-engineers/cue/definition-edit">Manage X-Definition</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/platform-engineers/cue/advanced">CUE Advanced</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Addon System</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/platform-engineers/addon/intro">Addon Management System</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Component System</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/platform-engineers/components/custom-component">CUE Components</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/platform-engineers/components/component-terraform">Terraform Components</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Traits System</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/platform-engineers/traits/customize-trait">How-to</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/platform-engineers/traits/patch-trait">Patch Traits</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/platform-engineers/traits/status">Status Write Back</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/platform-engineers/traits/advanced">Advanced Features</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Workflow System</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/platform-engineers/workflow/workflow">Designing Workflow Steps</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/platform-engineers/workflow/cue-actions">Step Operations</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">System Operation</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/platform-engineers/system-operation/bootstrap-parameters">Bootstrap Parameters</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/platform-engineers/system-operation/managing-clusters">Managing Clusters</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/platform-engineers/system-operation/observability">Observability</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/platform-engineers/system-operation/performance-finetuning">Performance Fine-tuning</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/next/platform-engineers/system-operation/velaql">VelaQL</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Debugging</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/platform-engineers/debug/dry-run">Dry Run</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">References</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">CLI</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/cli/vela_components">vela components</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/cli/vela_config">vela config</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/cli/vela_env">vela env</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/cli/vela_init">vela init</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/cli/vela_up">vela up</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/cli/vela_version">vela version</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/cli/vela_exec">vela exec</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/cli/vela_logs">vela logs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/cli/vela_ls">vela ls</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/cli/vela_port-forward">vela port-forward</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/cli/vela_show">vela show</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/cli/vela_status">vela status</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/cli/vela_workloads">vela workloads</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/cli/vela_traits">vela traits</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/cli/vela_system">vela system</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/cli/vela_template">vela template</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/cli/vela_cap">vela cap</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Roadmap</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/next/roadmap/README">KubeVela Roadmap</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/next/developers/references/devex/faq">FAQ</a></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for KubeVela <strong>Next</strong> version.</div><div class="margin-top--md">For up-to-date documentation, see the <strong><a href="/docs/">latest version</a></strong> (v1.1).</div></div><div class="docItemContainer_33ec"><article><div><span class="badge badge--secondary">Version: Next</span></div><header><h1 class="docTitle_3a4h">VelaQL</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="introduction"></a>Introduction<a class="hash-link" href="#introduction" title="Direct link to heading">#</a></h2><p>velaQL(vela Query Language) is a resource query language for KubeVela, used to query application-level resource status.
â€‹</p><p>KubeVela&#x27;s Application encapsulates the underlying resources of the infra. Although it brings the convenience of shielding the underlying infrastructure to users, it also brings many inconveniences to platform developers: the monitoring of the resource status of Application creation can only rely on the CR object of Application. Moreover, the status information is simple and the real-time feedback is poor.
â€‹</p><p>The purpose of velaQL is to help users and platform developers uncover the mystery of Application. Users can query application deployment status through velaQL, or use the extensible interface provided by velaQL to customize query resource information to improve the observability of Application.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="usage"></a>Usage<a class="hash-link" href="#usage" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="install"></a>Install<a class="hash-link" href="#install" title="Direct link to heading">#</a></h3><p>At present, if you want to use the query capabilities of velaQL, you need to install velaux and query the resource status with the help of apiserver. In the future, we will provide more interactive methods. Now you can install velaux with a simple command.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">vela addon </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">enable</span><span class="token plain"> velaux</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Assuming we started the apiserver at <code>http://127.0.0.1:8000</code>, you can use velaQL like:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">http://127.0.0.1:8000/api/v1/query?velaql</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;write velaQL here&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Below we explain how to write velaQL. The basic syntax of velaQL is as follows:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">view{parameter1=value1,parameter2=value2}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><code>view</code> represents a query view, which can be compared to the concept of a view in a database.
The <code>view</code> in velaQL is a collection of resource queries on the <code>k8s</code>.</p><p>Filter conditions are placed in <code>{}</code> as the form of key-value pairs, currently the value type only supports: string, int, float, boolean.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="query-view"></a>Query view<a class="hash-link" href="#query-view" title="Direct link to heading">#</a></h3><p>velaux has built-in 3 general query views. Below we will introduce the usage of these views:</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="component-pod-view"></a>component-pod-view<a class="hash-link" href="#component-pod-view" title="Direct link to heading">#</a></h4><p><code>component-pod-view</code> indicates the status query of pods which created by a component.</p><p><strong>Parameter List</strong></p><table><thead><tr><th>name</th><th>type</th><th>describe</th></tr></thead><tbody><tr><td>appName</td><td>string</td><td>application name</td></tr><tr><td>appNs</td><td>string</td><td>application namespace</td></tr><tr><td>name</td><td>string</td><td>component name</td></tr><tr><td>cluster</td><td>string</td><td>the cluster the pod is deployed to</td></tr><tr><td>clusterNs</td><td>string</td><td>the namespace the pod is deployed to</td></tr></tbody></table><p>Let&#x27;s show how to use <code>component-pod-view</code> to query resources.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">curl</span><span class="token plain"> --location -g --request GET </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">http://127.0.0.1:8000/api/v1/query?velaql</span><span class="token operator">=</span><span class="token plain">component-pod-view</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">appNs</span><span class="token operator">=</span><span class="token plain">default,appName</span><span class="token operator">=</span><span class="token plain">demo,name</span><span class="token operator">=</span><span class="token plain">demo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><img alt="component-pod-view" src="/assets/images/component-pod-view-54a1981b77e440ee7749c04e1d928376.png"></p><p>podList includes a list of pods created by the application.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="pod-view"></a>pod-view<a class="hash-link" href="#pod-view" title="Direct link to heading">#</a></h4><p><code>pod-view</code> queries the detailed status of a pod, including container status and pod-related events.</p><table><thead><tr><th>name</th><th>type</th><th>describe</th></tr></thead><tbody><tr><td>name</td><td>string</td><td>pod name</td></tr><tr><td>namespace</td><td>string</td><td>pod namespace</td></tr><tr><td>cluster</td><td>string</td><td>the cluster the pod is deployed to</td></tr></tbody></table><p>Let&#x27;s show how to use <code>pod-view</code> to query resources.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">curl</span><span class="token plain"> --location -g --request GET </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">http://127.0.0.1:8000/api/v1/query?velaql</span><span class="token operator">=</span><span class="token plain">pod-view</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">name</span><span class="token operator">=</span><span class="token plain">demo-1-bf6799bb5-dpmk6,namespace</span><span class="token operator">=</span><span class="token plain">default</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><img alt="component-pod-view" src="/assets/images/pod-view-e1b2a8d10108314e4907ffc55f0d2820.png"></p><p>The query result contains the status information of the container and various events associated with the pod when it is created.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="resource-view"></a>resource-view<a class="hash-link" href="#resource-view" title="Direct link to heading">#</a></h4><p><code>resource-view</code> get a list of certain types of resources in the clusterã€‚</p><table><thead><tr><th>name</th><th>type</th><th>describe</th></tr></thead><tbody><tr><td>type</td><td>string</td><td>Resource type, optional types are &quot;ns&quot;, &quot;secret&quot;, &quot;configMap&quot;, &quot;pvc&quot;, &quot;storageClass&quot;</td></tr><tr><td>namespace</td><td>string</td><td>namespace</td></tr><tr><td>cluster</td><td>string</td><td>cluster</td></tr></tbody></table><p>Let&#x27;s show how to use <code>resource-view</code> to query resources.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">curl</span><span class="token plain"> --location -g --request GET </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;http://127.0.0.1:8000/api/v1/query?velaql=resource-view{type=ns}&#x27;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><img alt="resource-view" src="/assets/images/resource-view-35ea9b093eda862005a59e078458bf83.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="advanced-view"></a>Advanced view<a class="hash-link" href="#advanced-view" title="Direct link to heading">#</a></h2><p>In many scenarios, the built-in views cannot meet our needs, and the resources encapsulated under Application are not just the native resources of k8s. For many custom resources, users will have different query requirements. At this time, you need to write your own specific views to complete the query. This section will tell you how to write a custom view.</p><p>The current view in velaQL relies on configMap in k8s as a storage medium, You can refer to <a href="https://github.com/oam-dev/kubevela/blob/master/test/e2e-apiserver-test/testdata/component-pod-view.yaml" target="_blank" rel="noopener noreferrer">https://github.com/oam-dev/kubevela/blob/master/test/e2e-apiserver-test/testdata/component-pod-view.yaml</a>. The template in the configMap data field stores the core logic of the view, template is a query statement implemented in cue language.</p><p>Every time you use velaQL, the system will look for the configMap with the same name as the view under the vela-system namespace, and extract the template for query operations, so please ensure that your custom view is stored under vela-system.
â€‹
The structure of a template is as follows:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">import (</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;vela/ql&quot;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">// The parameter here corresponds to the parameter in velaQL</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">parameter: {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  appName:    string</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  appNs:      string</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  name?:      string</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  cluster?:   string</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  clusterNs?: string</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">// query statement implemented with cue</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">... </span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">// The query result of velaQL will return the content of the status field by default, </span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">// so please summarize the results you need to query under the status field</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">status: podList: {...}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>We provide the <code>vela/ql</code> package to help you query resources. The following explains the cue operators that can be used:</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="listresourcesinapp"></a>ListResourcesInApp<a class="hash-link" href="#listresourcesinapp" title="Direct link to heading">#</a></h3><p>List all resources created by Application</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="action-parameter"></a>Action Parameter<a class="hash-link" href="#action-parameter" title="Direct link to heading">#</a></h4><ul><li>app: fill in the basic information of the application that needs to be queried, including the application name and application namespaceï¼ŒThe <code>filter</code> field is used to filter the resources created by the application. The options include the cluster where the resource is located, the cluster namespace, and the component to which it belongs</li><li>list: after the operation is successful, this field will be filled. <code>list</code> is a list of all resources, the k8s description of the resource is stored in the object field.</li><li>err: if an error occurs in the operation, the error message will be displayed as a string.</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">#ListResourcesInApp: {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    app: {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        name:      string</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        namespace: string</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        filter?: {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">            cluster?:          string</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">            clusterNamespace?: string</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">            components?: [...string]</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    list?: [...{</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        cluster:   string</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        component: string</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        revision:  string</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        object: {...}</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    }]</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  err?: string</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="usage-1"></a>Usage<a class="hash-link" href="#usage-1" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">import (</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;vela/ql&quot;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">// The parameter here corresponds to the parameter in velaQL</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">parameter: {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  appName:    string</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  appNs:      string</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  name?:      string</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  cluster?:   string</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  clusterNs?: string</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">resources: ql.#ListResourcesInApp &amp; {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  app: {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    name:      parameter.appName</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    namespace: parameter.appNs</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    filter: {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      if parameter.cluster != _|_ {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        cluster: parameter.cluster</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      if parameter.clusterNs != _|_ {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        clusterNamespace: parameter.clusterNs</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      if parameter.name != _|_ {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        components: [parameter.name]</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">// velaQL returns the value of the status field by default</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">status: resourcesList: resources.list</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="collectpods"></a>CollectPods<a class="hash-link" href="#collectpods" title="Direct link to heading">#</a></h3><p>List all pods created by the workload</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="action-parameter-1"></a>Action Parameter<a class="hash-link" href="#action-parameter-1" title="Direct link to heading">#</a></h4><ul><li>value: definition of the workload resource you want to query</li><li>cluster: cluster</li><li>list: after the operation is successful, this field will be filled. <code>list</code> is a list of all pod resources</li><li>err: if an error occurs in the operation, the error message will be displayed as a string.</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">#CollectPods: {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    value: {...}</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    cluster: string</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    list?:[... v1.Pod]</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    err?: string</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="usage-2"></a>Usage<a class="hash-link" href="#usage-2" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">import (</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;vela/ql&quot;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">parameter: {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    name: string</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">resources: ql.#CollectPods &amp; {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  value: {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    kind: &quot;Deployment&quot;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    apiVersion: &quot;apps/v1&quot;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    metadata: name: parameter.name</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">status: pods: resources.list</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="read"></a>Read<a class="hash-link" href="#read" title="Direct link to heading">#</a></h3><p>Get resource in Kubernetes cluster.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="action-parameter-2"></a>Action Parameter<a class="hash-link" href="#action-parameter-2" title="Direct link to heading">#</a></h4><ul><li>value: the resource metadata to be get. And after successful execution, value will be updated with resource definition in cluster.</li><li>err:  if an error occurs, the err will contain the error message.</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">#Read: {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  value: {}</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  err?: string</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="usage-3"></a>Usage<a class="hash-link" href="#usage-3" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">// You can use configmap.value.data after this action.</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">configmap: ql.#Read &amp; {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">   value: {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      kind: &quot;ConfigMap&quot;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      apiVersion: &quot;v1&quot;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      metadata: {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        name: &quot;configmap-name&quot;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        namespace: &quot;configmap-ns&quot;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">   }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="list"></a>List<a class="hash-link" href="#list" title="Direct link to heading">#</a></h3><p>List resources in the k8s cluster.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="action-parameter-3"></a>Action Parameter<a class="hash-link" href="#action-parameter-3" title="Direct link to heading">#</a></h4><ul><li>resource: the resource metadata to be get</li><li>filter: namespace is used to select a namespace, and the matchingLabels field is used to filter labels</li><li>err: if an error occurs, the err will contain the error message.</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">#List: {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    cluster:   *&quot;&quot; | string</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    resource: {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        apiVersion: string</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        kind:       string</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    filter?: {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        namespace?: *&quot;&quot; | string</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        matchingLabels?: {...}</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    list?: {...}</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    err?: string</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/oam-dev/kubevela.io/edit/main/docs/platform-engineers/system-operation/velaql.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2021-12-03T06:45:38.000Z" class="lastUpdatedDate_1WI_">12/3/2021</time> by <strong>yangsoon</strong></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/next/platform-engineers/system-operation/performance-finetuning"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Performance Fine-tuning</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/next/platform-engineers/debug/dry-run"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Dry Run Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link">Introduction</a></li><li><a href="#usage" class="table-of-contents__link">Usage</a><ul><li><a href="#install" class="table-of-contents__link">Install</a></li><li><a href="#query-view" class="table-of-contents__link">Query view</a></li></ul></li><li><a href="#advanced-view" class="table-of-contents__link">Advanced view</a><ul><li><a href="#listresourcesinapp" class="table-of-contents__link">ListResourcesInApp</a></li><li><a href="#collectpods" class="table-of-contents__link">CollectPods</a></li><li><a href="#read" class="table-of-contents__link">Read</a></li><li><a href="#usage-3" class="table-of-contents__link">Usage</a></li><li><a href="#list" class="table-of-contents__link">List</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Documentation</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/quick-start">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/case-studies/jenkins-cicd">Case Studies</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/platform-engineers/oam/oam-model">Administrator Manuals</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://slack.cncf.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">CNCF Slack ( #kubevela channel )</a></li><li class="footer__item"><a href="https://gitter.im/oam-dev/community" target="_blank" rel="noopener noreferrer" class="footer__link-item">Gitter</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/next/platform-engineers/system-operation/">DingTalk (23310022)</a></li><li class="footer__item"><div class="wechat"> <a class="wechat-label">Wechat Group(Scan code to request joining)</a> <a class="wechat-img" rel="noreferrer noopener" aria-label="Wechat Group"><img src="https://static.kubevela.net/images/barnett-wechat.jpg" alt="Broker wechat to add you into the user group."></a></div></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/oam-dev/kubevela" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">
        <br>
        <strong>Â© KubeVela Authors 2021 | Documentation Distributed under <a href="https://creativecommons.org/licenses/by/4.0">CC-BY-4.0</a> </strong> <strong>| Powered by <a href="https://www.netlify.com">Netlify</a></strong>
        <br>
        <br>
        Â© 2021 The Linux Foundation. All rights reserved. The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our <a href="https://www.linuxfoundation.org/trademark-usage/"> Trademark Usage</a> page.
      </div></div></div></footer></div>
<script src="/assets/js/runtime~main.08f4153c.js"></script>
<script src="/assets/js/main.c8f46ad8.js"></script>
</body>
</html>